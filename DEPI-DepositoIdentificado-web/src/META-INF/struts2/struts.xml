<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
	"http://struts.apache.org/dtds/struts-2.1.7.dtd">
<struts>
	<!--
		Include da configuração padrão da framework BSAD para o Struts2.
	 -->
	<include file="META-INF/bsad/struts2/struts-config.xml" />
	
	<constant name="struts.devMode" value="false" />
	<constant name="struts.custom.i18n.resources" value="br.com.bradseg.depi.depositoidentificado.properties.ApplicationResources" />
	
	<package name="depi-default" abstract="true" extends="bsad-default">
	
		<interceptors>
			<interceptor name="limparDados" class="br.com.bradseg.depi.depositoidentificado.util.LimparDadosFormularioStrutsInterceptor"/>
		</interceptors>
	
		<default-action-ref name="index"></default-action-ref>

		<global-results>
			<result name="error">
			    <param name="location">/WEB-INF/pages/layout/erro.jsp</param>
			</result>
			<result name="json" type="json"></result>
		</global-results>
		
	</package>
	
	<package name="root" namespace="/" extends="depi-default">
	
		<action name="index" class="indexAction">
			<result name="success">
			    <param name="location">/WEB-INF/pages/layout/vazio.jsp</param>
			</result>
		</action>

		<action name="menu" class="menuAction" method="menu">
			<result name="success">
			    <param name="location">/WEB-INF/pages/layout/menu.jsp</param>
			</result>
			<result name="error">
			    <param name="location">/WEB-INF/pages/layout/erro.jsp</param>
			</result>
        </action>

		<action name="ConsultarDepartamento" class="consultarDepartamentoAction" 
			method="menu">
			<result name="success">
			    <param name="location">/WEB-INF/pages/pt_BR/includes/cadastro/ConsultarDepartamento.jsp</param>
			</result>
			<result name="error">
			    <param name="location">/WEB-INF/pages/layout/erro.jsp</param>
			</result>
        </action>

        <action name="navegador">
            <result>/WEB-INF/pages/navegador.jsp</result>
        </action>        

		<action name="sobre" class="versaoAction" method="execute">
			<result>/WEB-INF/pages/layout/versao.jsp</result>
		</action>
	</package>

	<include file="META-INF/struts2/struts-motivodeposito.xml" />
	<include file="META-INF/struts2/struts-departamento.xml" />
	<include file="META-INF/struts2/struts-departamento-companhia.xml" />
	<include file="META-INF/struts2/struts-grupo-acesso.xml" />
	<include file="META-INF/struts2/struts-parametro.xml" />
	<include file="META-INF/struts2/struts-conta-corrente.xml" />
	<include file="META-INF/struts2/struts-associar-motivodeposito.xml" />
	<include file="META-INF/struts2/struts-deposito.xml" />
	<include file="META-INF/struts2/struts-relatorios.xml" />
		
	<package name="jsonService" namespace="/json" extends="depi-default">
		<default-class-ref class="jsonServiceAction"/>
		
		<global-results>
			<result name="success" type="json"/>
			<result name="input" type="json"/>
			<result name="error" type="json">
				<param name="statusCode">400</param>
			</result>
		</global-results>
		
		<action name="*" method="{1}" />
		
		<action name="grupoAcesso/desalocarFuncionarios" method="desalocarFuncionarios" class="grupoAcessoEditarAction" />
	</package>

	<package name="filtroUsuario" namespace="/filtro/funcionario/consultar" extends="depi-default">
	
		<default-class-ref class="funcionarioConsultarAction"/>
		
		<global-results>
			<result name="success">/WEB-INF/pages/pt_BR/filtro/funcionario.jsp</result>
			<result name="input">/WEB-INF/pages/pt_BR/filtro/funcionario.jsp</result>
			<!-- <result name="input" type="redirectAction">listar</result> -->
		</global-results>

		<action name="index">
			<interceptor-ref name="limparDados"/>
			<interceptor-ref name="applicationStack"/>
		</action>
		
		<action name="*" method="{1}"/>

	</package>
	
</struts>